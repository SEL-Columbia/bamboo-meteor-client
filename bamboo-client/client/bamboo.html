<head>
	<meta charset="UTF-8">
    <title>bamboo meteor client the awesomest of all</title>
</head>

<body>
    <div class="container-fluid">
        {{> url_entry}}
    </div>
    <div class="mainbody">
        {{> processing}}
        {{> body_render}}
        <div id="d3select"></div>
    </div>
</body>

<template name="error_message">
{{message}}
</template>
            
<template name="body_render">
{{#if show}}
    {{> introduction}}
    <div class="graph_area">
    </div>
    {{> control_panel}}
{{/if}}
</template>
            
<template name="graphing_block">
    <div class="well span8 offset1">
        Graphs:
    </div>
</template>

<template name="url_entry">
    {{#if current_dataset_url}}
    <div class='navbar navbar-fixed-top url'>
        <div class="navbar-inner">
            <div class="container">
                <div class="pull-left"> <a class="brand" href="http://bamboo.io/"><b> Bamboo.io</b> </a>
                    <img class="logoImg" src="logo.svg"/>  
                </div>
                <div class="pull-right">
                    <input id="dataSourceURL" type="text"
                            value="{{current_dataset_url}}"></input>
                    <div class="btn" id="submitURL">
                        Submit
                    </div>
                </div>
            </div>
        </div>
    </div>
    {{else}} 

    <div class = 'logo_bamboo'>
    </div>   

    <div class ='url_init span6 offset3'>
        <input id="dataSourceURL" type="text" value="{{constants.defaultURL}}"></input>
        <div class="btn" id="submitURL">
            Submit        
        </div>
    </div>
    {{/if}}    
</template>

<template name="processing">
{{#if ready}}
    <div class="error_message">
        {{> error_message}}
    </div>
    <div class="well span8 offset1">
        <h1>Preparing your dataset, just a split second..</h1>
    <img src="drop.gif">
    </div>
{{/if}}
</template>

<template name="introduction">
<div class="well span8 offset1">
    <div class="page-header"> 
        <h3> Introducion about Your File </h3> 
    </div>
    <p><b>You</b> are accessing the dataset from <a href="{{url}}"> {{url}}</a>.</p> 
    <p><b>{{num_cols}} view fields</b> in the dataset you can choose to chart : </p>
    {{#if show_all}}
        <p>
        {{#each schema}}
        <a href="http://www.google.com?id={{label}}">{{label}}</a>
        ,&nbsp&nbsp&nbsp&nbsp
        {{/each}}
        </p>
        {{#if long}}
            <div class="btn pull-right" id="hideBtn">
                hide
            </div>
        {{/if}}
    {{else}}
        <p> show 5 entries, or click the button to show all </p>
        <p>
        {{#each schema_less}}
        <a href="http://www.google.com?id={{label}}"> {{label}} {{simpletype}} </a>
        ,&nbsp&nbsp&nbsp&nbsp
        {{/each}}
        </p>
        <div class="btn pull-right" id="moreBtn">
            more      
        </div>
    {{/if}}
    <p> ---- : Field with * is groupable field.</p>
</div>
</template>

<template name="control_panel">
<div class="well span8 offset1">
    {{#if active}}
            <div class="page-header">
                <h3>Graphing Control Panel</h3>
            </div>
            <div class="row offset1">
                <b>View</b>
                {{chosen}}
                <select class="chosen" id="view" >
                    {{#each fields}}
                        <option>{{this}}</option>
                    {{/each}}
                </select>
                <b>Group by</b>
                <select data-placeholder="choose a group" class="chosen" id="group-by">
                    <option></option>
                    {{#each groups}}
                        <option>{{this}}</option>
                    {{/each}}
                </select>
                Generate
                {{num_graph}}
                graphs
                <div class="btn pull-right" id="chartBtn">
                    Chart        
                </div>
            </div>
            {{#if waiting}}
                {{>waiting_graph}}
                {{charting}}
            {{/if}}
    {{else}}
        <div class="btn btn-large pull-right" id="addNewGraphBtn">
            <h3>Add a New Graph</h3>
        </div>
    {{/if}}
</div>
</template>

<template name="waiting_graph">
    Proccessing the graphs, waiting a split second...
    <img src="drop.gif">
</template>
 
<template name="graph">
<div class="well span8 offset1" id="{{field}}_{{group}}_block">
    <div class="page-header"> 
        <div class="pull-right" id="{{field}}_{{group}}_btn">
            <img class="pointer deletionBtn" src="deletion.svg"></img>
        </div>
        <h3> {{title}} </h3>
    </div>
        <div class="d3_graph" id="{{field}}_{{group}}_graph"></div>
</div>
</template>


