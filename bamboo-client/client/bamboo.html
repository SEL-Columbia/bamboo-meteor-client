<head>
	<meta charset="UTF-8">
    <title>bamboo meteor client the awesomest of all</title>
</head>

<body>
    <div class="container-fluid">
        {{> url_entry}}
    </div>
    <div class="mainbody">
        {{> processing}}
        {{> body_render}}
        <div id="d3select"></div>
    </div>
</body>
            
<template name="body_render">
{{#if show}}
    {{> introduction}}
    <div class="graph_area">
    </div>
    {{> control_panel}}
{{/if}}
</template>
            
<template name="graphing_block">
    <div class="well span8 offset1">
        Graphs:
    </div>
</template>

<template name="url_entry">
    {{#if current_dataset_url}}
    <div class='navbar navbar-fixed-top url'>
        <div class="navbar-inner">
            <div class="container">
                <div class="pull-right">
                    <input id="dataSourceURL" type="text"
                            value="{{current_dataset_url}}"></input>
                    <div class="btn" id="submitURL">
                        Submit
                    </div>
                </div>
            </div>
        </div>
    </div>
    {{else}} 

    <div class = 'logo_bamboo'>
    </div>   

    <div class ='url_init span6 offset3'>
        <input id="dataSourceURL" type="text" value="{{constants.defaultURL}}"></input>
        <div class="btn" id="submitURL">
            Submit        
        </div>
    </div>
    {{/if}}    
</template>

<template name="processing">
{{#if ready}}
    <div class="well span8 offset1">
        <h1>Preparing your dataset, just a split second..</h1>
    <img src="drop.gif">
    </div>
{{/if}}
</template>

<template name="introduction">
<div class="well span8 offset1">
	<table border="1"><tr><td>
	<p>  </p>
	{{#if show_all}}
        	{{#each one}}
        	<p><a href="https://topol.cartodb.com/tables/gujarat/embed_map" target="_blank">{{label}} ({{simpletype}})</a></p>
        	{{/each}}
        {{#if long}}
            	<div class="btn pull-right" id="hideBtn">
              	hide
            	</div>
        {{/if}}
    	{{else}}
        	{{#each schema_lessone}}
        	<p><a href="https://topol.cartodb.com/tables/gujarat/embed_map" target="_blank">{{label}} ({{simpletype}})</a></p>
        	{{/each}}
        	<div class="btn pull-right" id="moreBtn">
            	more      
        	</div>
    	{{/if}}
	</td><td>
	{{#if show_all}}
        	{{#each two}}
        	<p><a href="http://www.w3schools.com/" target="_blank">{{label}} ({{simpletype}})</a></p>
        	{{/each}}
        {{#if long}}
            	<div class="btn pull-right" id="hideBtn">
                	hide
            	</div>
        {{/if}}
    	{{else}}
        	{{#each schema_lesstwo}}
        	<p><a href="http://www.w3schools.com/" target="_blank">{{label}} ({{simpletype}})</a></p>
        	{{/each}}
        	<div class="btn pull-right" id="moreBtn">
            	more      
        	</div>
    	{{/if}}
	</td><td>
	{{#if show_all}}
        	{{#each three}}
        	<p><a href="http://www.w3schools.com/" target="_blank">{{label}} ({{simpletype}})</a></p>
        	{{/each}}
        {{#if long}}
            	<div class="btn pull-right" id="hideBtn">
                	hide
            	</div>
        {{/if}}
    	{{else}}
        	{{#each schema_lessthree}}
        	<p><a href="http://www.w3schools.com/" target="_blank">{{label}} ({{simpletype}})</a></p>
        	{{/each}}
        	<div class="btn pull-right" id="moreBtn">
            	more      
        	</div>
    	{{/if}}
	</td><td>
	{{#if show_all}}
        	{{#each four}}
        	<p><a href="http://www.w3schools.com/" target="_blank">{{label}} ({{simpletype}})</a></p>
        	{{/each}}
        {{#if long}}
            	<div class="btn pull-right" id="hideBtn">
                	hide
            	</div>
        {{/if}}
    	{{else}}
        	{{#each schema_lessfour}}
        	<p><a href="http://www.w3schools.com/" target="_blank">{{label}} ({{simpletype}})</a></p>
        	{{/each}}
        	<div class="btn pull-right" id="moreBtn">
            	more      
        	</div>
    	{{/if}}
	
		</td><td>
	{{#if show_all}}
        	{{#each five}}
        	<p><a href="http://www.w3schools.com/" target="_blank">{{label}} ({{simpletype}})</a></p>
        	{{/each}}
        {{#if long}}
            	<div class="btn pull-right" id="hideBtn">
                	hide
            	</div>
        {{/if}}
    	{{else}}
        	{{#each schema_lessfive}}
        	<p><a href="http://www.w3schools.com/" target="_blank">{{label}} ({{simpletype}})</a></p>
        	{{/each}}
        	<div class="btn pull-right" id="moreBtn">
            	more      
        	</div>
    	{{/if}}


	</td></tr></table>


</div>
</template>

<template name="control_panel">
<div class="well span8 offset1">
    {{#if active}}
            <div class="page-header">
                <h3>Graphing Control Panel</h3>
            </div>
            <div class="row offset1">
                <b>View</b>
                {{chosen}}
                <select class="chosen" id="view" >
                    {{#each fields}}
                        <option>{{this}}</option>
                    {{/each}}
                </select>
                <b>Group by</b>
                <select data-placeholder="choose a group" class="chosen" id="group-by">
                    <option></option>
                    {{#each groups}}
                        <option>{{this}}</option>
                    {{/each}}
                </select>
                <div class="btn pull-right" id="chartBtn">
                    BoxPlot/BarChart        
                </div>
            </div>
            <div class="row offset1">
                <b>View</b>
                <select class="chosen" id="viewX" >
                    {{#each fields1}}
                        <option>{{this}}</option>
                    {{/each}}
                </select>
                <b> And </b>
                <select class="chosen" id="viewY">
                    {{#each groups1}}
                        <option>{{this}}</option>
                    {{/each}}
                </select>
                <div class="btn pull-right" id="ScatterBtn">
                    ScatterPlot       
                </div>
            </div>
            {{#if waiting}}
                {{>waiting_graph}}
                {{charting}}
            {{/if}}
    {{else}}
        <div class="btn btn-large pull-right" id="addNewGraphBtn">
            <h3>Add a New Graph</h3>
        </div>
    {{/if}}
</div>
</template>

<template name="waiting_graph">
    Proccessing the graphs, waiting a split second...
    <img src="drop.gif">
</template>
 
<template name="graph">
<div class="well span8 offset1" id="{{field}}_{{group}}_block">
    <div class="pull-right" id="{{field}}_{{group}}_btn">
        <img class="pointer deletionBtn" src="deletion.svg"></img>
    </div>
        <h3> {{title}} </h3>
        <div class="d3_graph" id="{{field}}_{{group}}_graph"></div>
</div>
</template>


